# Data Flow Architecture
# Shows how audio data flows through the system

flowchart LR
    subgraph Input["ðŸ“¥ Input Layer"]
        Audio[Audio Source]
        UserInput[User Input]
        Config[Configuration]
    end
    
    subgraph Processing["âš™ï¸ Processing Layer"]
        AudioProc[AudioProcessor]
        FFT[FFT Analysis]
        Beat[Beat Detection]
        ThemeProc[Theme Processor]
    end
    
    subgraph Data["ðŸ’¾ Data Layer"]
        AudioData[(AudioData)]
        ThemeData[(Theme)]
        ConfigData[(Settings)]
    end
    
    subgraph Visualization["ðŸŽ¨ Visualization Layer"]
        Spectrum[Frequency Bars]
        Waveform[Oscilloscope]
        Particles[Milkdrop]
        VU[VU Meter]
    end
    
    subgraph Rendering["ðŸ–¥ï¸ Rendering Layer"]
        WebGL[WebGL Context]
        Shaders[GLSL Shaders]
        PostFX[Post-Processing]
        CRT[CRT Effects]
    end
    
    subgraph Output["ðŸ“¤ Output Layer"]
        Canvas[Canvas Element]
        UI[UI Components]
    end
    
    Audio --> AudioProc
    UserInput --> ConfigData
    Config --> ConfigData
    
    AudioProc --> FFT
    AudioProc --> Beat
    FFT --> AudioData
    Beat --> AudioData
    ThemeProc --> ThemeData
    
    AudioData --> Spectrum
    AudioData --> Waveform
    AudioData --> Particles
    AudioData --> VU
    
    ThemeData --> Visualization
    
    Spectrum --> WebGL
    Waveform --> WebGL
    Particles --> WebGL
    VU --> WebGL
    
    WebGL --> Shaders
    Shaders --> PostFX
    PostFX --> CRT
    
    CRT --> Canvas
    ConfigData --> UI
    ThemeData --> UI
